<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<head>
<title>IGNORED</title>
</head>

<body>
	<ui:composition template="/templates/masterLayout.xhtml">
		<ui:define name="windowTitle">
			#{msgs.new_tsheet_title}
		</ui:define>
		<ui:define name="pageTitle">
			#{msgs.timesheet_title}
		</ui:define>
		<ui:define name="content">
			<h:form>
				<div class="panel panel-default">
					<div class="panel-heading">
						<b>#{msgs.current_week} #{timesheetData.timesheet.weekNum}</b>
						<div class="pull-right">
							<b>#{msgs.week_end} #{timesheetData.timesheet.weekEnding}</b>
						</div>
					</div>
					<div class="panel-body">
						<h:panelGroup layout="block" styleClass="alert alert-danger" rendered="#{timesheetData.showMessages and !timesheetData.saveSuccess}" >
							<ul>
								<ui:repeat value="#{timesheetData.errorMessages}" var="errMsg">
									<li>#{errMsg}</li>
								</ui:repeat>
							</ul>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="alert alert-success" rendered="#{timesheetData.showMessages and timesheetData.saveSuccess}" >
							<h:outputText value="#{msgs.timesheet_save}" />
						</h:panelGroup>
						<h:messages infoClass="text-danger"/>
					</div>
					<h:dataTable value="#{timesheetData.timesheet.details}" var="detail" 
						styleClass="table timesheet-table" footerClass="table-footer">
						<h:column>
							<f:facet name="header">#{msgs.project_id}</f:facet>
							<h:inputText value="#{detail.projectID}" label="ProjectID" class="form-control" />
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.work_p}</f:facet>
							<h:inputText value="#{detail.workPackage}" label="WP#" class="form-control" />
							<f:facet name="footer">
								<h:outputText value="Total" styleClass="vcenter text-right" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.total}</f:facet>
							<h:outputText value="#{detail.sum}" class="vcenter text-center" />
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.totalHours}" 
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.sat}</f:facet>
							<h:inputText value="#{detail.hourSat}" label="Hour" class="form-control">
								<f:validateDoubleRange minimum="0.0" maximum="24.0" />
							</h:inputText>
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.satHours}"
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.sun}</f:facet>
							<h:inputText value="#{detail.hourSun}" label="hour" class="form-control">
								<f:validateDoubleRange minimum="0.0" maximum="24.0" />
							</h:inputText>
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.sunHours}" 
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.mon}</f:facet>
							<h:inputText value="#{detail.hourMon}" label="hour" class="form-control">
								<f:validateDoubleRange minimum="0.0" maximum="24.0" />
							</h:inputText>
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.monHours}" 
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.tue}</f:facet>
							<h:inputText value="#{detail.hourTue}" label="hour" class="form-control">
								<f:validateDoubleRange minimum="0.0" maximum="24.0" />
							</h:inputText>
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.tueHours}" 
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.wed}</f:facet>
							<h:inputText value="#{detail.hourWed}" label="hour" class="form-control">
								<f:validateDoubleRange minimum="0.0" maximum="24.0" />
							</h:inputText>
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.wedHours}" 
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.thu}</f:facet>
							<h:inputText value="#{detail.hourThur}" label="hour" class="form-control">
								<f:validateDoubleRange minimum="0.0" maximum="24.0" />
							</h:inputText>
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.thuHours}" 
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.fri}</f:facet>
							<h:inputText value="#{detail.hourFri}" label="hour" class="form-control">
								<f:validateDoubleRange minimum="0.0" maximum="24.0" />
							</h:inputText>
							<f:facet name="footer">
								<h:outputText value="#{timesheetData.timesheet.friHours}" 
									styleClass="vcenter text-center" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">#{msgs.note}</f:facet>
							<h:inputText value="#{detail.notes}"  label="Note" class="form-control note-field" />
						</h:column>
					</h:dataTable>
					
					<div class="panel-body">
						<h:commandLink value="#{msgs.add_row}" action="#{timesheetData.addRow}" styleClass="btn btn-default" />
						<h:commandLink value="#{msgs.save_timesheet}" action="#{timesheetData.addTimesheet}" 
						styleClass="btn btn-primary pull-right" />
				    </div>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</body>
</html>